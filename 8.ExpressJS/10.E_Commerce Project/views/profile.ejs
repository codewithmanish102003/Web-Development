<%- include('./partials/header') %>

<div class="container mx-auto px-4 py-8">
    <h2 class="text-2xl font-bold mb-4">Profile</h2>
    <div class="bg-white shadow-md rounded-lg p-6">
        <h3 class="text-xl font-semibold mb-2">User Information</h3>
        <p><strong>Name:</strong> <%= user.fullname %></p>
        <p><strong>Email:</strong> <%= user.email %></p>
    </div>

    <div class="bg-white shadow-md rounded-lg p-6 mt-6">
        <h3 class="text-xl font-semibold mb-2">Carted Products</h3>
        <% if (user.cart.length === 0) { %>
            <p>No products in cart.</p>
        <% } else { %>
            <ul>
                <% user.cart.forEach(function(product) { %>
                    <li class="mb-2">
                        <div class="flex items-center">
                            <img class="h-16 w-16 mr-4" src="data:image/jpeg;base64,<%= product.image.toString('base64') %>" alt="<%= product.name %>">
                            <div>
                                <h4 class="text-lg font-semibold"><%= product.name %></h4>
                                <p>Price: â‚¹ <%= product.price %></p>
                            </div>
                        </div>
                    </li>
                <% }) %>
            </ul>
        <% } %>
    </div>
</div>

<%- include('./partials/footer') %>